<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PostgreSQL :: Programmeren Gevorderd 2 (BETA)</title>
    <meta name="generator" content="Antora 3.1.14">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="#">Programmeren Gevorderd 2 (BETA)</a>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
      
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
          <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="#">Producten</a>
              <div class="navbar-dropdown">
                  <a class="navbar-item" target="_blank" href="https://learn.microsoft.com/en-us/cli/azure/">Azure CLI</a>
                  <a class="navbar-item" target="_blank" href="https://www.docker.com/products/docker-desktop">Docker Desktop</a>
                  <a class="navbar-item" target="_blank" href="https://desktop.github.com/download">GitHub Desktop</a>
                  <a class="navbar-item" target="_blank" href="https://www.mongodb.com/try/download/compass">MongoDB Compass</a>
                  <a class="navbar-item" target="_blank" href="https://www.pgadmin.org">pgAdmin</a>
                  <a class="navbar-item" target="_blank" href="https://www.postman.com/downloads/">Postman</a>
                  <a class="navbar-item" target="_blank" href="https://www.jetbrains.com/rider/download">Rider</a>
                  <a class="navbar-item" target="_blank" href="https://code.visualstudio.com/download">VS Code</a>
              </div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="#">Diensten</a>
              <div class="navbar-dropdown">
                  <a class="navbar-item" target="_blank" href="https://dev.azure.com/hogent-web4-stefancourteaux/">Azure DevOps</a>
                  <a class="navbar-item" target="_blank" href="https://portal.azure.com">Azure Portal</a>
                  <a class="navbar-item" target="_blank" href="https://chamilo.hogent.be">Chamilo</a>
                  <a class="navbar-item" target="_blank" href="https://github.com">GitHub</a>
                  <a class="navbar-item" target="_blank" href="https://jwt.io">JWT.io</a>                  
                  <a class="navbar-item" target="_blank" href="https://dotnet.microsoft.com">MS Docs</a>
              </div>
          </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="pg2" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">Gevorderd 2</a></h3>
<ul class="nav-list">
      <li class="nav-item is-active" data-depth="0">
<ul class="nav-list">
      <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="01-situering.html">Situering</a>
  </li>
      <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="01-http-apis.html">RESTful HTTP Api</a>
  </li>
      <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="02-storefront-api.html">Storefront Backend</a>
<ul class="nav-list">
      <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="02-storefront-api-ontwerp.html">API Ontwerp</a>
  </li>
      <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="02-storefront-api-architectuur.html">Architectuur</a>
  </li>
      <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="02-storefront-api-implementatie.html">Implementatie C#</a>
  </li>
      <li class="nav-item is-active" data-depth="2">
    <span class="nav-text">PostgreSQL</span>
  </li>
      <li class="nav-item is-active" data-depth="2">
    <span class="nav-text">Dapper</span>
  </li>
      <li class="nav-item is-active" data-depth="2">
    <span class="nav-text">HATEOAS</span>
  </li>
</ul>
  </li>
      <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Oefeningen</span>
<ul class="nav-list">
      <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="90-01-herhaling.html">Herhaling C# en UML</a>
  </li>
      <li class="nav-item is-active" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Backend Api</span>
<ul class="nav-list">
      <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="90-03-pokemons.html">Api + In-Memory Data</a>
  </li>
      <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="90-03-pokemons-dapper.html">Dapper</a>
  </li>
</ul>
  </li>
      <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="90-07-alles.html">Cover-All</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Gevorderd 2</span>
    <span class="version"></span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="index.html">Gevorderd 2</a></div>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Gevorderd 2</a></li>
    <li><a href="02-storefront-db-postgres.html">PostgreSQL</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">PostgreSQL</h1>
<div class="sect1">
<h2 id="_relationele_databanken"><a class="anchor" href="#_relationele_databanken"></a>Relationele Databanken</h2>
<div class="sectionbody">
<div class="paragraph">
<p>De structuur van een Relationele Databank bestaat uit <strong><em>Tables</em></strong> (tabellen) en <strong><em>Constraints</em></strong> (beperkingen) van toepassing op de data in die tabellen.</p>
</div>
<div class="sect2">
<h3 id="_tables"><a class="anchor" href="#_tables"></a>Tables</h3>
<div class="paragraph">
<p>Een <em>Table</em> is een structuur bestaande uit rijen en kolommen, gevuld met gegevens.</p>
</div>
<div class="paragraph">
<p>Elke <strong><em>Table</em></strong> heeft minstens:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Een <strong>naam</strong>, bijvoorbeeld "Klanten", "Producten" of "Spelers"</p>
</li>
<li>
<p>één of meer <strong>kolomdefinities</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Elke <strong><em>Column</em></strong> wordt gedefinieerd a.d.h.v. onderstaande <strong>eigenschappen</strong>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Name</dt>
<dd>
<p>De hoofding van de kolom, bijvoorbeeld "Voornaam" of "Geboortedatum".</p>
</dd>
<dt class="hdlist1">DataType</dt>
<dd>
<p>Technische precisering van het type data dat opgeslagen zal worden in de kolom.</p>
<div class="ulist">
<ul>
<li>
<p><code>varchar(<em>&lt;lengte&gt;</em>)</code></p>
</li>
<li>
<p><code>int</code> / <code>bigint</code></p>
</li>
<li>
<p><code>decimal(<em>&lt;positiesInTotaal&gt;,&lt;cijfersAchterDeKomma&gt;</em>)</code></p>
</li>
<li>
<p><code>bool</code></p>
</li>
<li>
<p><code>timestamp</code></p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Nullability</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>null</code> &#8594; een rij mag een waarde hebben voor deze kolom</p>
</li>
<li>
<p><code>not null</code> &#8594; een rij moet altijd een waarde hebben voor deze kolom</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Default Value</dt>
<dd>
<p>Wanneer men bij het aanmaken van een rij deze kolom niet vermeldt, wordt een standaardwaarde toegepast, bijvoorbeeld het resultaat van de functie <code>current_time()</code> of de vaste waarde <code>3</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_constraints"><a class="anchor" href="#_constraints"></a>Constraints</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Primary Key (Constraint)</dt>
<dd>
<p>De waarde van een veld in deze kolom, of combinatie van kolommen, moet uniek zijn in de tabel. Er kan maar één <em>PK</em> bestaan per tabel. Dit is dé sleutel bedoeld om een <em>record</em> (=rij) binnen de tabel ondubbelzinnig te identificeren.</p>
</dd>
<dt class="hdlist1">Unique Key (Constraint)</dt>
<dd>
<p>De waarde van een veld in deze kolom, of combinatie van kolommen, moet uniek zijn in de tabel. Er kan meer dan één <em>UK</em> bestaan per tabel. Deze zijn bedoeld om business regels rond uniciteit af te dwingen.</p>
</dd>
<dt class="hdlist1">Foreign Key (Constraint)</dt>
<dd>
<p>De waarde van een veld in een bepaalde kolom in tabel A verwijst naar een <em>Key</em> (Primary of Unique) in tabel B. Indien de gerefereerde waarde in tabel B niet bestaat, zal de database het record in tabel A verwerpen.</p>
</dd>
<dt class="hdlist1">Check Constraint</dt>
<dd>
<p>Een deterministische boolean expressie die gebruik kan maken van alle kolommen in de tabel en constanten om een record te evalueren. Indien de expressie naar <code>false</code> evalueert, zal het record niet kunnen toegevoegd of aangepast worden.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_sql"><a class="anchor" href="#_sql"></a>SQL</h3>
<div class="paragraph">
<p>Structured Query Language (SQL) is de taal die we gebruiken om een databank vorm te geven en de data te manipuleren.</p>
</div>
<div class="paragraph">
<p>SQL is <strong>geen</strong> programmeertaal. In een programmeertaal beschrijf je immers hoe je iets wil doen. In SQL beschrijf je enkel wat je wil doen - het systeem bepaalt hoe dat zal gebeuren.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_postgresql_opzetten"><a class="anchor" href="#_postgresql_opzetten"></a>PostgreSQL Opzetten</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Download en installeer <a href="https://www.docker.com/products/docker-desktop/">Docker Desktop</a> voor jouw besturingssysteem.</p>
</div>
<div class="listingblock">
<div class="title">Download de PostgreSQL image</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker pull postgres</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Start de image als container ( <code>\</code> of <code>`</code> als escape character naargelang omgeving)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker run -d \
  --name pg2-postgres \
  -e POSTGRES_USER=admin \
  -e POSTGRES_PASSWORD=secret \
  -e POSTGRES_DB=pg2db \
  -p 5432:5432 \
  postgres</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>--name</code> is vrij te kiezen container naam</p>
</li>
<li>
<p><code>-e</code> zijn environment variables</p>
</li>
<li>
<p><code>-p</code> mapt netwerkpoort buiten docker (links) op poort binnen docker (rechts)</p>
</li>
<li>
<p><code>postgres</code> is de image</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Door unieke <code>-p</code> en <code>--name</code> toe te wijzen, kan je meerdere containers simultaan runnen op basis van eenzelfde image.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Container logt wanneer klaar voor gebruik</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">database system is ready to accept connections</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_verbinden"><a class="anchor" href="#_verbinden"></a>Verbinden</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.pgadmin.org">pgAdmin</a> is de officiële database management tool. Dit heeft een bestaansreden, maar voor basistaken kan je perfect uit de voeten met de <a href="https://marketplace.visualstudio.com/items?itemName=ms-ossdata.vscode-pgsql">VS Code Extension</a>, Rider of een van de vele alternatieven.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
    <p>This page was built using a customized version of the Antora default UI. The source code for the default UI is licensed under the terms of the MPL-2.0 license.</p>
    <p>Course material may *not* be used to teach, tutor, coach, or present without obtaining explicit consent from Stefan Courteaux.</p>
</footer><script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
