<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Afronden :: Programmeren Gevorderd 3 (BETA)</title>
    <meta name="generator" content="Antora 3.1.14">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="#">Programmeren Gevorderd 3 (BETA)</a>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
      
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
          <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="#">Producten</a>
              <div class="navbar-dropdown">
                  <a class="navbar-item" target="_blank" href="https://learn.microsoft.com/en-us/cli/azure/">Azure CLI</a>
                  <a class="navbar-item" target="_blank" href="https://www.docker.com/products/docker-desktop">Docker Desktop</a>
                  <a class="navbar-item" target="_blank" href="https://desktop.github.com/download">GitHub Desktop</a>
                  <a class="navbar-item" target="_blank" href="https://www.mysql.com/products/workbench">MySQL Workbench</a>
                  <a class="navbar-item" target="_blank" href="https://www.postman.com/downloads/">Postman</a>
                  <a class="navbar-item" target="_blank" href="https://www.jetbrains.com/rider/download">Rider</a>
                  <a class="navbar-item" target="_blank" href="https://code.visualstudio.com/download">VS Code</a>
              </div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="#">Diensten</a>
              <div class="navbar-dropdown">
                  <a class="navbar-item" target="_blank" href="https://dev.azure.com/hogent-web4-stefancourteaux/">Azure DevOps</a>
                  <a class="navbar-item" target="_blank" href="https://portal.azure.com">Azure Portal</a>
                  <a class="navbar-item" target="_blank" href="https://chamilo.hogent.be">Chamilo</a>
                  <a class="navbar-item" target="_blank" href="https://github.com">GitHub</a>
                  <a class="navbar-item" target="_blank" href="https://jwt.io">JWT.io</a>                  
                  <a class="navbar-item" target="_blank" href="https://dotnet.microsoft.com">MS Docs</a>
              </div>
          </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="pg3" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">Gevorderd 3</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Hoofdstukken üóíÔ∏è</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-cloud-connected.html">Cloud Connected</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-microservices.html">Microservices</a>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Iteratief Ontwikkelen</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Cosmos</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Blob Storage</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Middleware</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Open Data &amp; Docker</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Secret Management</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Testing</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Authenticatie</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Autorisatie</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Afronden</span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="80-lesopnames-2526S2.html">Lesopnames üì∫</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="00-geen-toegang.html">Geen Azure Toegang üò±</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="03-git.html">Git Gebruik ü•≤</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="99-tips.html">Extra Referenties üßê</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Gevorderd 3</span>
    <span class="version"></span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="index.html">Gevorderd 3</a></div>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Gevorderd 3</a></li>
    <li><a href="10-afronden2526.html">Afronden</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Afronden</h1>
<div class="sect1">
<h2 id="_prep"><a class="anchor" href="#_prep"></a>Prep</h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Gebruik .net 10 LTS voor je eigen services. Laat de .net versie van Identity Server template onveranderd.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Test je applicatie lokaal nog eens goed door.</p>
</li>
<li>
<p>Controleer of de codebase nog hardcoded settings bevat.</p>
<div class="ulist">
<ul>
<li>
<p>Indien dat zo is, verplaats je deze naar configuratie</p>
<div class="ulist">
<ul>
<li>
<p>Options Pattern, <a href="05-cosmos.html" class="xref page">gezien in de les</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Hertest grondig.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Controleer dat alle code in versiebeheer zit.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_azure"><a class="anchor" href="#_azure"></a>Azure</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_backend"><a class="anchor" href="#_backend"></a>Backend</h3>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Onderschat niet hoeveel tijd je nodig zal hebben om de deployment volledig juist te krijgen. Dit kan een significante drempel vormen. Dat is normaal en deel van het leerproces.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Je zal een <em>Resource Group</em> hebben waaronder je de verschillende elementen samenbrengt</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Azure SQL, <a href="09-auth-2526.html" class="xref page">gezien in de les</a></p>
</li>
<li>
<p>Azure Blob, <a href="07-blob.html" class="xref page">gezien in de les</a></p>
</li>
<li>
<p>Azure Cosmos, <a href="05-cosmos.html" class="xref page">gezien in de les</a></p>
</li>
<li>
<p>Azure KeyVault, <a href="06-02-secret-management.html" class="xref page">gezien in de les</a></p>
</li>
<li>
<p>App Services, <a href="02-az-devops.html" class="xref page">gezien in de les</a></p>
<div class="ulist">
<ul>
<li>
<p>Identity Server, <a href="09-auth-2526.html" class="xref page">gezien in de les</a></p>
</li>
<li>
<p>1 bijkomende App Service per <code>.Api</code> project dat je gemaakt hebt</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>De moeilijkheid ligt in alles correct verbonden krijgen. Alle settings moeten naar de juiste endpoints (op Azure) wijzen en je client/role settings moeten juist staan in de Identity Server database.</p>
</div>
</div>
<div class="sect2">
<h3 id="_front_end"><a class="anchor" href="#_front_end"></a>Front End</h3>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Als je frontend ergens gehost wordt, en je backend correct werkt, maar de frontend niet tegen de backend kan praten, zal dit meestal aan <em>CORS</em> problemen liggen. Controleer dat je eigen api&#8217;s in <code>Program.cs</code> de passende CORS policies hebben, alsook clients in de IS database de correcte redirect en CORS origins hebben.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Indien je dit semester ook WEB3 volgt</strong>, zal het project voor dat vak aansluiten (<a href="09-auth-2526-2.html" class="xref page">gezien in de les</a>) op de backend die je voor PG3 maakt. Deze communicatie verloopt volledig over HTTP, wat wil zeggen dat je de frontend elders kan hosten. Deze moet wel degelijk ergens gehost zijn - lokaal runnen tijdens demo is niet voldoende.</p>
</div>
<div class="paragraph">
<p>Indien je de frontend toch in Azure wil hosten, is een <a href="https://learn.microsoft.com/en-us/azure/static-web-apps/deploy-web-framework?tabs=bash&amp;pivots=vanilla-js">Static Web App</a> daarvoor het geschikte resource type.</p>
</div>
<div class="paragraph">
<p><strong>Indien je dit semester geen WEB3 volgt</strong>, dient de UI enkel om te illustreren dat je frontend met backend en IS technisch kan verbinden. Er hoeft geen noemenswaardige functionaliteit aanwezig te zijn. Je mag deze lokaal runnen.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_zonder_azure"><a class="anchor" href="#_zonder_azure"></a>Zonder Azure</h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<strong>Deze alternatieve manier van werken is enkel van toepassing voor studenten die door administratieve pech geen toegang hebben tot Azure.</strong><br>
<br>
Je dient verplicht bewijsstukken in die bevestigen dat je oprecht geprobeerd hebt je account in orde te krijgen. Dit om de eenvoudige reden dat de lesgever moet kunnen staven waarom jij een afwijkende opdracht hebt.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_docker_compose"><a class="anchor" href="#_docker_compose"></a>Docker Compose</h3>
<div class="paragraph">
<p>Het evidente alternatief is een <code>docker-compose</code> setup voorzien. Dit is niet exact hetzelfde als Azure gebruiken, maar het verplicht je een aantal analoge problemen op te lossen. Onderschat ook hier de tijd niet die je nodig zal hebben om alles te leren en <em>just right</em> te krijgen.</p>
</div>
<div class="paragraph">
<p>Je hebt een werkend voorbeeld van een app met drie architectuurlagen gekregen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GitHub: <a href="https://github.com/VedromDest/docker-compose-demo" class="bare">https://github.com/VedromDest/docker-compose-demo</a></p>
</li>
<li>
<p><a href="https://hogent-my.sharepoint.com/:v:/g/personal/stefan_courteaux_hogent_be/IQChLh0JEbr1Ra_jNQMvitpZAdt_MY-noXtMDzHuscMH1es?e=fuWzV5&amp;nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJTdHJlYW1XZWJBcHAiLCJyZWZlcnJhbFZpZXciOiJTaGFyZURpYWxvZy1MaW5rIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXcifX0%3D">Video</a> (HOGENT Account nodig)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Wat je moet doen voor het project is <em>analoog</em>, maar niet <em>identiek</em>. Jouw afgewerkte compose setup zal minstens 7 images bevatten üòâ</p>
</div>
<div class="sect3">
<h4 id="_azure_sql"><a class="anchor" href="#_azure_sql"></a>Azure SQL</h4>
<div class="paragraph">
<p>Gebruik SQL Server in Docker</p>
</div>
<div class="literalblock">
<div class="content">
<pre>docker pull mcr.microsoft.com/mssql/server:2022-latest</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>docker run -e "ACCEPT_EULA=Y" -e "MSSQL_SA_PASSWORD=Wachtw00rd1" -p 1433:1433 --name sql1 --hostname sql1 -d mcr.microsoft.com/mssql/server:2022-latest</pre>
</div>
</div>
<div class="paragraph">
<p>De server admin username is <code>sa</code> ‚ÄºÔ∏è</p>
</div>
<div class="paragraph">
<p>Met de admin user kan je nieuwe databases en users maken naar wens.</p>
</div>
</div>
<div class="sect3">
<h4 id="_azure_blob"><a class="anchor" href="#_azure_blob"></a>Azure Blob</h4>
<div class="paragraph">
<p>Gebruik <a href="https://learn.microsoft.com/en-us/azure/storage/common/storage-install-azurite?toc=%2Fazure%2Fstorage%2Fblobs%2Ftoc.json&amp;bc=%2Fazure%2Fstorage%2Fblobs%2Fbreadcrumb%2Ftoc.json&amp;tabs=docker-hub%2Cblob-storage">Azurite in Docker</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_azure_cosmos"><a class="anchor" href="#_azure_cosmos"></a>Azure Cosmos</h4>
<div class="paragraph">
<p>Gebruik <a href="https://learn.microsoft.com/en-us/azure/cosmos-db/how-to-develop-emulator?tabs=docker-linux%2Ccsharp&amp;pivots=api-nosql">Cosmos Emulator in Docker</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_azure_keyvault"><a class="anchor" href="#_azure_keyvault"></a>Azure KeyVault</h4>
<div class="paragraph">
<p>Geen officieel alternatief, dus:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Geen hardcoded settings.</p>
</li>
<li>
<p>Overal Options Pattern gebruikt, <a href="05-cosmos.html" class="xref page">gezien in de les</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_app_service_static_web_app_front_end"><a class="anchor" href="#_app_service_static_web_app_front_end"></a>App Service &amp; Static Web App (front end)</h4>
<div class="paragraph">
<p>Identity Server, elke <code>.Api</code>, alsook de frontend, resulteren telkens in een eigen docker image, <a href="08-open-data-docker.html" class="xref page">gezien in de les</a>.</p>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
    <p>This page was built using a customized version of the Antora default UI. The source code for the default UI is licensed under the terms of the MPL-2.0 license.</p>
    <p>Course material may *not* be used to teach, tutor, coach, or present without obtaining explicit consent from Stefan Courteaux.</p>
</footer><script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
